<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AlsaTalk - Interactive Demo Suite</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#06b6d4',
            'primary-dark': '#0891b2',
            'primary-light': '#67e8f9',
            secondary: '#8b5cf6',
            accent: '#f59e0b',
            danger: '#ef4444',
            success: '#10b981',
            'bg-primary': '#0f172a',
            'bg-secondary': '#1e293b',
            'text-primary': '#f8fafc',
            'text-secondary': '#cbd5e1'
          }
        }
      }
    }
  </script>
  <style>
    body {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      min-height: 100vh;
    }
    .demo-card {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .demo-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(6, 182, 212, 0.4);
    }
    .tab-button {
      transition: all 0.2s ease;
      cursor: pointer;
      border-bottom: 3px solid transparent;
    }
    .tab-button.active {
      border-bottom-color: #06b6d4;
      background: rgba(6, 182, 212, 0.1);
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
      animation: fadeIn 0.3s ease-in;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .hidden { display: none; }

    /* Accordion styles */
    .accordion-item {
      transition: all 0.3s ease;
    }
    .accordion-header {
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .accordion-header:hover {
      background: rgba(6, 182, 212, 0.1);
    }
    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease;
    }
    .accordion-content.active {
      max-height: 2000px;
    }
    .accordion-icon {
      transition: transform 0.3s ease;
    }
    .accordion-icon.rotated {
      transform: rotate(180deg);
    }
  </style>
</head>
<body class="text-text-primary">
  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-brand">
        <div class="logo-container">
          <img src="logo_large_1024.png" alt="AlsaTalk Logo" class="logo">
          <div class="brand-text">
            <h1>AlsaTalk</h1>
            <span class="brand-subtitle">Demo Suite</span>
          </div>
        </div>
      </div>
      <div class="nav-links">
        <a href="/" class="nav-link">
          <i data-lucide="home"></i>
          <span>Home</span>
        </a>
        <a href="/#solutions" class="nav-link">
          <i data-lucide="bot"></i>
          <span>Solutions</span>
        </a>
      </div>
      <div class="nav-actions">
        <button id="backBtn" class="nav-btn-secondary hidden" onclick="showMainView()">
          <i data-lucide="arrow-left"></i>
          <span>Back to Demos</span>
        </button>
        <form action="/logout" method="POST" style="display: inline-block;">
          <button type="submit" class="nav-btn-secondary">
            <i data-lucide="log-out"></i>
            <span>Logout</span>
          </button>
        </form>
      </div>
    </div>
  </nav>

  <!-- Main Container -->
  <div class="container mx-auto px-4 py-8 max-w-7xl mt-20">

    <!-- Main Grid View -->
    <div id="mainView">
      <h1 class="text-4xl font-bold text-center mb-12 bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent">
        Enterprise AI Demo Suite
      </h1>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- Demo 1 -->
        <div class="demo-card bg-bg-secondary/80 rounded-2xl p-6 border-2 border-primary/30 hover:border-primary" onclick="showDemo(1)">
          <div class="flex items-center justify-center w-16 h-16 bg-primary/20 rounded-full mb-4">
            <i data-lucide="zap" class="w-8 h-8 text-primary"></i>
          </div>
          <h3 class="text-lg font-bold text-primary mb-2">Cross-Department Workflow</h3>
          <p class="text-sm text-text-secondary mb-4">Contract approval across Legal, Finance, Procurement</p>
          <div class="flex justify-between text-sm mb-2">
            <span class="text-danger">48 hours</span>
            <span class="text-primary">→</span>
            <span class="text-success font-bold">8 min</span>
          </div>
          <span class="bg-primary/20 text-primary px-3 py-1 rounded-full text-xs font-semibold">99% saved</span>
        </div>

        <!-- Demo 2 -->
        <div class="demo-card bg-bg-secondary/80 rounded-2xl p-6 border-2 border-danger/30 hover:border-danger" onclick="showDemo(2)">
          <div class="flex items-center justify-center w-16 h-16 bg-danger/20 rounded-full mb-4">
            <i data-lucide="package" class="w-8 h-8 text-danger"></i>
          </div>
          <h3 class="text-lg font-bold text-danger mb-2">Inventory Crisis</h3>
          <p class="text-sm text-text-secondary mb-4">AI finds alternatives across 12 warehouses</p>
          <div class="flex justify-between text-sm mb-2">
            <span class="text-danger">4 hours</span>
            <span class="text-primary">→</span>
            <span class="text-success font-bold">90 sec</span>
          </div>
          <span class="bg-danger/20 text-danger px-3 py-1 rounded-full text-xs font-semibold">98% saved</span>
        </div>

        <!-- Demo 3 -->
        <div class="demo-card bg-bg-secondary/80 rounded-2xl p-6 border-2 border-secondary/30 hover:border-secondary" onclick="showDemo(3)">
          <div class="flex items-center justify-center w-16 h-16 bg-secondary/20 rounded-full mb-4">
            <i data-lucide="calculator" class="w-8 h-8 text-secondary"></i>
          </div>
          <h3 class="text-lg font-bold text-secondary mb-2">Account Reconciliation</h3>
          <p class="text-sm text-text-secondary mb-4">AI reconciles CRM, ERP, invoices, deposits</p>
          <div class="flex justify-between text-sm mb-2">
            <span class="text-danger">2 weeks</span>
            <span class="text-primary">→</span>
            <span class="text-success font-bold">15 min</span>
          </div>
          <span class="bg-secondary/20 text-secondary px-3 py-1 rounded-full text-xs font-semibold">99.3% saved</span>
        </div>

        <!-- Demo 4 -->
        <div class="demo-card bg-bg-secondary/80 rounded-2xl p-6 border-2 border-accent/30 hover:border-accent" onclick="showDemo(4)">
          <div class="flex items-center justify-center w-16 h-16 bg-accent/20 rounded-full mb-4">
            <i data-lucide="target" class="w-8 h-8 text-accent"></i>
          </div>
          <h3 class="text-lg font-bold text-accent mb-2">Churn Prevention</h3>
          <p class="text-sm text-text-secondary mb-4">AI detects usage decline, triggers retention</p>
          <div class="flex justify-between text-sm mb-2">
            <span class="text-danger">30 days</span>
            <span class="text-primary">→</span>
            <span class="text-success font-bold">5 min</span>
          </div>
          <span class="bg-accent/20 text-accent px-3 py-1 rounded-full text-xs font-semibold">99.9% saved</span>
        </div>

        <!-- Demo 5 -->
        <div class="demo-card bg-bg-secondary/80 rounded-2xl p-6 border-2 border-success/30 hover:border-success" onclick="showDemo(5)">
          <div class="flex items-center justify-center w-16 h-16 bg-success/20 rounded-full mb-4">
            <i data-lucide="trending-up" class="w-8 h-8 text-success"></i>
          </div>
          <h3 class="text-lg font-bold text-success mb-2">Sales Lead Follow-Up</h3>
          <p class="text-sm text-text-secondary mb-4">Auto-capture, research, outreach, CRM logging</p>
          <div class="flex justify-between text-sm mb-2">
            <span class="text-danger">3.5 hours</span>
            <span class="text-primary">→</span>
            <span class="text-success font-bold">5 min</span>
          </div>
          <span class="bg-success/20 text-success px-3 py-1 rounded-full text-xs font-semibold">95% saved</span>
        </div>

        <!-- Demo 6 -->
        <div class="demo-card bg-bg-secondary/80 rounded-2xl p-6 border-2 border-primary/30 hover:border-primary" onclick="showDemo(6)">
          <div class="flex items-center justify-center w-16 h-16 bg-primary/20 rounded-full mb-4">
            <i data-lucide="headphones" class="w-8 h-8 text-primary"></i>
          </div>
          <h3 class="text-lg font-bold text-primary mb-2">Customer Support</h3>
          <p class="text-sm text-text-secondary mb-4">Instant CRM lookup, ERP data, AI resolution</p>
          <div class="flex justify-between text-sm mb-2">
            <span class="text-danger">8 min</span>
            <span class="text-primary">→</span>
            <span class="text-success font-bold">2 min</span>
          </div>
          <span class="bg-primary/20 text-primary px-3 py-1 rounded-full text-xs font-semibold">75% saved</span>
        </div>

        <!-- Demo 7 -->
        <div class="demo-card bg-bg-secondary/80 rounded-2xl p-6 border-2 border-secondary/30 hover:border-secondary" onclick="showDemo(7)">
          <div class="flex items-center justify-center w-16 h-16 bg-secondary/20 rounded-full mb-4">
            <i data-lucide="building" class="w-8 h-8 text-secondary"></i>
          </div>
          <h3 class="text-lg font-bold text-secondary mb-2">Client Onboarding</h3>
          <p class="text-sm text-text-secondary mb-4">CRM, invoicing, provisioning, welcome call</p>
          <div class="flex justify-between text-sm mb-2">
            <span class="text-danger">8 hours</span>
            <span class="text-primary">→</span>
            <span class="text-success font-bold">5 min</span>
          </div>
          <span class="bg-secondary/20 text-secondary px-3 py-1 rounded-full text-xs font-semibold">98% saved</span>
        </div>

        <!-- Demo 8 -->
        <div class="demo-card bg-bg-secondary/80 rounded-2xl p-6 border-2 border-accent/30 hover:border-accent" onclick="showDemo(8)">
          <div class="flex items-center justify-center w-16 h-16 bg-accent/20 rounded-full mb-4">
            <i data-lucide="truck" class="w-8 h-8 text-accent"></i>
          </div>
          <h3 class="text-lg font-bold text-accent mb-2">Order Status Update</h3>
          <p class="text-sm text-text-secondary mb-4">Voice triggers ERP, AI calls with tracking</p>
          <div class="flex justify-between text-sm mb-2">
            <span class="text-danger">15 min</span>
            <span class="text-primary">→</span>
            <span class="text-success font-bold">30 sec</span>
          </div>
          <span class="bg-accent/20 text-accent px-3 py-1 rounded-full text-xs font-semibold">97% saved</span>
        </div>
      </div>
    </div>

    <!-- Detail View Template -->
    <div id="detailView" class="hidden">
      <div id="demoHeader" class="bg-gradient-to-r from-primary/20 to-secondary/20 rounded-2xl p-8 mb-6 border-2 border-primary/30"></div>

      <!-- Tabs -->
      <div class="flex gap-2 mb-6 overflow-x-auto">
        <button class="tab-button active px-6 py-3 bg-bg-secondary rounded-t-lg" onclick="switchTab('overview')">
          <i data-lucide="info" class="w-4 h-4 inline mr-2"></i>Overview
        </button>
        <button class="tab-button px-6 py-3 bg-bg-secondary rounded-t-lg" onclick="switchTab('steps')">
          <i data-lucide="list" class="w-4 h-4 inline mr-2"></i>Step-by-Step
        </button>
        <button class="tab-button px-6 py-3 bg-bg-secondary rounded-t-lg" onclick="switchTab('impact')">
          <i data-lucide="bar-chart" class="w-4 h-4 inline mr-2"></i>Business Impact
        </button>
      </div>

      <!-- Tab Content -->
      <div id="tabOverview" class="tab-content active"></div>
      <div id="tabSteps" class="tab-content"></div>
      <div id="tabImpact" class="tab-content"></div>
    </div>

  </div>

  <script src="demo-data.js"></script>
  <script>
    let currentDemo = null;
    let currentTab = 'overview';

    // Debug: Check if demoData loaded
    console.log('Demo data loaded:', typeof demoData !== 'undefined');
    if (typeof demoData !== 'undefined') {
      console.log('Available demos:', Object.keys(demoData));
    }

    function showDemo(demoNumber) {
      console.log('showDemo called with:', demoNumber);
      currentDemo = demoNumber;
      const demo = demoData[demoNumber];

      if (!demo) {
        console.error('Demo not found:', demoNumber);
        console.error('Available demoData:', demoData);
        return;
      }

      console.log('Loading demo:', demo.title);

      document.getElementById('mainView').classList.add('hidden');
      document.getElementById('detailView').classList.remove('hidden');
      document.getElementById('backBtn').classList.remove('hidden');

      // Render header
      renderHeader(demo);

      // Render tabs
      renderOverview(demo);
      renderSteps(demo);
      renderImpact(demo);

      // Scroll to top
      window.scrollTo(0, 0);

      // Reinitialize icons
      if (typeof lucide !== 'undefined') {
        lucide.createIcons();
      }
    }

    function renderHeader(demo) {
      const header = document.getElementById('demoHeader');
      header.className = `bg-gradient-to-r from-${demo.color}/20 to-secondary/20 rounded-2xl p-8 mb-6 border-2 border-${demo.color}/30`;
      header.innerHTML = `
        <div class="flex items-center gap-4 mb-4">
          <div class="flex items-center justify-center w-20 h-20 bg-${demo.color}/20 rounded-full">
            <i data-lucide="${demo.icon}" class="w-10 h-10 text-${demo.color}"></i>
          </div>
          <div class="flex-1">
            <h2 class="text-4xl font-bold text-${demo.color} mb-2">${demo.title}</h2>
            <p class="text-text-secondary text-lg">${demo.subtitle}</p>
          </div>
        </div>
        <div class="grid grid-cols-3 gap-4 mt-6">
          <div class="bg-danger/10 p-5 rounded-lg border border-danger/30">
            <div class="text-sm text-text-secondary mb-1">Traditional Process</div>
            <div class="text-3xl font-bold text-danger">${demo.traditional}</div>
          </div>
          <div class="bg-success/10 p-5 rounded-lg border border-success/30">
            <div class="text-sm text-text-secondary mb-1">AlsaTalk Process</div>
            <div class="text-3xl font-bold text-success">${demo.alsatalk}</div>
          </div>
          <div class="bg-primary/10 p-5 rounded-lg border border-primary/30">
            <div class="text-sm text-text-secondary mb-1">Time Saved</div>
            <div class="text-3xl font-bold text-primary">${demo.saved}</div>
          </div>
        </div>
      `;
    }

    function renderOverview(demo) {
      const overview = demo.overview;
      document.getElementById('tabOverview').innerHTML = `
        <div class="space-y-6">
          <div class="bg-bg-secondary/80 rounded-lg p-6">
            <h3 class="text-2xl font-bold text-${demo.color} mb-3 flex items-center gap-2">
              <i data-lucide="target" class="w-6 h-6"></i> Scenario
            </h3>
            <p class="text-lg">${overview.scenario}</p>
          </div>

          <div class="bg-bg-secondary/80 rounded-lg p-6">
            <h3 class="text-2xl font-bold text-danger mb-3 flex items-center gap-2">
              <i data-lucide="alert-triangle" class="w-6 h-6"></i> Challenge
            </h3>
            <p>${overview.challenge}</p>
          </div>

          <div class="bg-bg-secondary/80 rounded-lg p-6">
            <h3 class="text-2xl font-bold text-success mb-3 flex items-center gap-2">
              <i data-lucide="check-circle" class="w-6 h-6"></i> AlsaTalk Solution
            </h3>
            <p>${overview.solution}</p>
          </div>

          <div class="bg-bg-secondary/80 rounded-lg p-6">
            <h3 class="text-2xl font-bold text-primary mb-3 flex items-center gap-2">
              <i data-lucide="database" class="w-6 h-6"></i> Systems Integrated
            </h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
              ${overview.systems.map(sys => `
                <div class="bg-primary/10 p-3 rounded border border-primary/30 text-sm text-center">
                  ${sys}
                </div>
              `).join('')}
            </div>
          </div>
        </div>
      `;
    }

    function renderSteps(demo) {
      if (!demo.steps) return;

      document.getElementById('tabSteps').innerHTML = `
        <div class="space-y-4">
          ${demo.steps.map((step, index) => `
            <div class="accordion-item bg-bg-secondary/80 border-2 border-${step.color}/30 rounded-lg overflow-hidden">
              <div class="accordion-header flex items-center justify-between p-4 border-l-4 border-${step.color}" onclick="toggleAccordion(${index})">
                <div class="flex items-center gap-4 flex-1">
                  <div class="flex items-center justify-center w-12 h-12 bg-${step.color}/20 rounded-full flex-shrink-0">
                    <i data-lucide="${step.icon}" class="w-6 h-6 text-${step.color}"></i>
                  </div>
                  <div>
                    <h3 class="text-xl font-semibold text-${step.color}">STEP ${index + 1}: ${step.title}</h3>
                    <p class="text-sm text-text-secondary">${step.description}</p>
                  </div>
                </div>
                <i data-lucide="chevron-down" class="w-6 h-6 text-${step.color} accordion-icon" id="icon-${index}"></i>
              </div>
              <div class="accordion-content" id="content-${index}">
                <div class="p-6 bg-${step.color}/5 border-t border-${step.color}/20">
                  ${step.details.map(detail => `<p class="mb-2">${detail}</p>`).join('')}
                </div>
              </div>
            </div>
          `).join('')}
        </div>
        <div class="mt-6 text-center text-sm text-text-secondary">
          <i data-lucide="info" class="w-4 h-4 inline"></i> Click on any step to expand/collapse details
        </div>
      `;
    }

    function renderImpact(demo) {
      const impact = demo.impact;
      document.getElementById('tabImpact').innerHTML = `
        <div class="space-y-6">
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            ${impact.metrics.map(metric => `
              <div class="bg-bg-secondary/80 rounded-lg p-6 text-center border-2 border-${metric.color}/30">
                <div class="text-5xl font-black text-${metric.color} mb-2">${metric.value}</div>
                <div class="text-sm text-text-secondary">${metric.label}</div>
              </div>
            `).join('')}
          </div>

          <div class="bg-gradient-to-br from-${demo.color}/20 to-primary/20 rounded-2xl p-8 border-2 border-${demo.color}/50">
            <h3 class="text-2xl font-bold text-${demo.color} mb-4 flex items-center gap-2">
              <i data-lucide="trending-up" class="w-6 h-6"></i> Business Value
            </h3>
            <p class="leading-relaxed text-lg">${impact.businessValue}</p>
          </div>

          <div class="bg-bg-secondary/80 rounded-lg p-6">
            <h3 class="text-2xl font-bold text-success mb-6 flex items-center gap-2">
              <i data-lucide="dollar-sign" class="w-6 h-6"></i> ROI Projections
            </h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
              ${impact.roi.map(item => `
                <div class="text-center">
                  <div class="text-3xl font-bold text-success mb-2">${item.value}</div>
                  <div class="text-sm text-text-secondary">${item.metric}</div>
                </div>
              `).join('')}
            </div>
          </div>
        </div>
      `;
    }

    function toggleAccordion(index) {
      const content = document.getElementById(`content-${index}`);
      const icon = document.getElementById(`icon-${index}`);

      // Close all other accordions
      document.querySelectorAll('.accordion-content').forEach((el, i) => {
        if (i !== index) {
          el.classList.remove('active');
          document.getElementById(`icon-${i}`).classList.remove('rotated');
        }
      });

      // Toggle current accordion
      content.classList.toggle('active');
      icon.classList.toggle('rotated');

      // Reinitialize icons
      if (typeof lucide !== 'undefined') {
        lucide.createIcons();
      }
    }

    function switchTab(tabName) {
      currentTab = tabName;

      // Update tab buttons
      document.querySelectorAll('.tab-button').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.closest('.tab-button').classList.add('active');

      // Update tab content
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });
      document.getElementById('tab' + tabName.charAt(0).toUpperCase() + tabName.slice(1)).classList.add('active');

      // Reinitialize icons
      if (typeof lucide !== 'undefined') {
        lucide.createIcons();
      }
    }

    function showMainView() {
      document.getElementById('mainView').classList.remove('hidden');
      document.getElementById('detailView').classList.add('hidden');
      document.getElementById('backBtn').classList.add('hidden');
      window.scrollTo(0, 0);
    }

    // Initialize
    if (typeof lucide !== 'undefined') {
      lucide.createIcons();
    }
  </script>
</body>
</html>
